{"name": "Проверка валидации полей формы", "status": "broken", "statusDetails": {"message": "NameError: cannot access free variable 'element' where it is not associated with a value in enclosing scope", "trace": "lesson_10\\tests\\test_form.py:37: in test_form_validation\n    assert form.get_validation_state(\"first-name\") == \"valid\", \"Имя должно быть валидным\"\nlesson_10\\pages\\form_page.py:35: in get_validation_state\n    self.wait.until(\nC:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:137: in until\n    value = method(self._driver)\nlesson_10\\pages\\form_page.py:36: in <lambda>\n    lambda d: \"alert-\" in element.get_attribute(\"class\"))\nE   NameError: cannot access free variable 'element' where it is not associated with a value in enclosing scope"}, "description": "Тестирование валидации формы", "steps": [{"name": "Открытие формы с тестовыми данными", "status": "passed", "steps": [{"name": "Открыть страницу с параметрами", "status": "passed", "parameters": [{"name": "form_data", "value": "{'first-name': 'Иван', 'last-name': 'Петров', 'address': 'ул. Ленина, 10', 'e-mail': 'test@example.com', 'phone': '+79991234567', 'zip-code': None, 'city': None, 'country': None}"}], "start": 1742854442576, "stop": 1742854442982}], "start": 1742854442576, "stop": 1742854442982}, {"name": "Проверка валидации полей", "status": "broken", "statusDetails": {"message": "NameError: cannot access free variable 'element' where it is not associated with a value in enclosing scope\n", "trace": "  File \"C:\\Users\\ASUS\\Desktop\\Учеба\\SkyPro\\Домашняя работа\\Курс 5\\kurs5\\kurs5\\lesson_10\\tests\\test_form.py\", line 37, in test_form_validation\n    assert form.get_validation_state(\"first-name\") == \"valid\", \"Имя должно быть валидным\"\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\ASUS\\Desktop\\Учеба\\SkyPro\\Домашняя работа\\Курс 5\\kurs5\\kurs5\\lesson_10\\pages\\form_page.py\", line 35, in get_validation_state\n    self.wait.until(\n    ~~~~~~~~~~~~~~~^\n        lambda d: \"alert-\" in element.get_attribute(\"class\"))\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 137, in until\n    value = method(self._driver)\n  File \"C:\\Users\\ASUS\\Desktop\\Учеба\\SkyPro\\Домашняя работа\\Курс 5\\kurs5\\kurs5\\lesson_10\\pages\\form_page.py\", line 36, in <lambda>\n    lambda d: \"alert-\" in element.get_attribute(\"class\"))\n                          ^^^^^^^\n"}, "steps": [{"name": "Проверить валидацию поля 'first-name'", "status": "broken", "statusDetails": {"message": "NameError: cannot access free variable 'element' where it is not associated with a value in enclosing scope\n", "trace": "  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\ASUS\\Desktop\\Учеба\\SkyPro\\Домашняя работа\\Курс 5\\kurs5\\kurs5\\lesson_10\\pages\\form_page.py\", line 35, in get_validation_state\n    self.wait.until(\n    ~~~~~~~~~~~~~~~^\n        lambda d: \"alert-\" in element.get_attribute(\"class\"))\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 137, in until\n    value = method(self._driver)\n  File \"C:\\Users\\ASUS\\Desktop\\Учеба\\SkyPro\\Домашняя работа\\Курс 5\\kurs5\\kurs5\\lesson_10\\pages\\form_page.py\", line 36, in <lambda>\n    lambda d: \"alert-\" in element.get_attribute(\"class\"))\n                          ^^^^^^^\n"}, "parameters": [{"name": "field_name", "value": "'first-name'"}], "start": 1742854442982, "stop": 1742854442982}], "start": 1742854442982, "stop": 1742854442984}, {"name": "Сделать скриншот при ошибке", "status": "passed", "attachments": [{"name": "screenshot", "source": "b552df3b-01ae-47e5-acf2-b3b781c7437e-attachment.png", "type": "image/png"}], "start": 1742854443032, "stop": 1742854443077}], "start": 1742854442576, "stop": 1742854442985, "uuid": "6311c989-1231-447f-bcd8-d6b260340062", "historyId": "e53493f0b4a3e198f85224b8b6e51147", "testCaseId": "e53493f0b4a3e198f85224b8b6e51147", "fullName": "tests.test_form.TestFormValidation#test_form_validation", "labels": [{"name": "feature", "value": "Тестирование формы"}, {"name": "severity", "value": "normal"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_form"}, {"name": "subSuite", "value": "TestFormValidation"}, {"name": "host", "value": "DESKTOP-QEBLV6A"}, {"name": "thread", "value": "12424-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_form"}]}